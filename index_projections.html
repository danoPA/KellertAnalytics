<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Kellert Analytics</title>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">

<style type="text/css">
    body {
        padding-top: 100px;
        padding-bottom: 20px;
    }
    .nottop{
       display:none;
    }
    .form-group {
        margin-top: 20px;
    }

    .table {
        class: table-striped table;
    }

    .navbar-inverse{
        background-color: blueviolet;
    }
    .nav.navbar-nav.navbar-right li a{
        color: white;
    }
    .navbar-header a.navbar-brand{
        color: white;
    }

    .dropdown-menu{
        background-color: blueviolet;
    }
    .dropdown-menu > li > a:hover{
        background-color: mediumpurple;
    }
    img.logo{
        width:18%;
    }
        .dropdown-submenu{position:relative;}
    .dropdown-submenu>.dropdown-menu{top:0;left:100%;margin-top:-6px;margin-left:-1px;-webkit-border-radius:0 6px 6px 6px;-moz-border-radius:0 6px 6px 6px;border-radius:0 6px 6px 6px;}
    .dropdown-submenu>a:after{display:block;content:" ";float:right;width:0;height:0;border-color:transparent;border-style:solid;border-width:5px 0 5px 5px;border-left-color:mediumpurple;margin-top:5px;margin-right:-10px;}
    .dropdown-submenu:hover>a:after{background-color:mediumpurple;}
    .dropdown-submenu.pull-left{float:none;}.dropdown-submenu.pull-left>.dropdown-menu{left:-100%;margin-left:10px;-webkit-border-radius:6px 0 6px 6px;-moz-border-radius:6px 0 6px 6px;border-radius:6px 0 6px 6px;}
</style>

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>

<body>

<!-- Fixed Navbar -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle Navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img src="static/pto.PNG" class="logo"> Pascal's Triangle Offense</a>
        </div>

        <div id="navbar" class="navbar-collapse collapse">

            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">Documentation
                    <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="/details">Introduction</a></li>
                        <li class="dropdown dropdown-submenu">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Tools</a>
                            <ul class="dropdown-menu">
                                <li><a href="/details#toolpr">Power Rankings</a></li>
                                <li><a href="/details#toolstats">Stats</a></li>
                                <li><a href="/details#toolproj">Projections</a></li>
                                <li><a href="/details#toolbracket">Bracket</a></li>
                            </ul>
                        </li>
                        <li><a href="/details#tips">Bracket Tips</a></li>
                        <li><a href="/details#math">Math/Algorithms</a></li>
                    </ul>
                </li>
                <li><a href="/powerrankings">Power Rankings</a></li>
                <li><a href="/stats">Stats</a></li>
                <li><a href="/projections">Projections</a></li>
                <li><a href="/bracket">Bracket</a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</nav>

<div class="container">
    <table class="table table-striped">
    </table>
<div class="form-group">
  <label for="sel1">Select Team 1:</label>
  <select class="form-control" id="sel1">
      %for team in sorted(teams):
        <option>{{team}}</option>
      %end
  </select>
  <label for="sel2">Select Team 2:</label>
  <select class="form-control" id="sel2">
      %for team in sorted(teams):
        <option>{{team}}</option>
      %end
  </select>
</div>

    <p class="output"></p>

<div class="stat_tables">
    <div class="row">
        <div class="col-md-4 col-md-offset-4">
            <table class="table table-striped">
                <tr>
                    <th>Stat</th>
                    <th id="team1">Team 1</th>
                    <th id="team2">Team 2</th>
                </tr>
                    %for stat in list(stats.itertuples())[0]._fields:
                        %if stat not in ("Index", "Team"):
                            <tr>
                                <td>{{stat}}</td>
                                <td id={{stat + "1"}}></td>
                                <td id={{stat + "2"}}></td>
                            </tr>
                        %end
                    %end
            </table>
        </div>
    </div>
</div>

<div class="row">


    <div class="col-md-4">
        <h2 class="page-header"><a name="contact"></a>Contact</h2>

        <table class="table table-bordered" style="width: auto;">
            <thead>
                <tr>
                    <th colspan="2">Scott Kellert</th>
                </tr>
            </thead>

            <tbody>
                <tr>
                    <th>Github:</th>
                    <td><a href="http://github.com/skellert">github.com/skellert</a></td>
                </tr>

                <tr>
                    <th>Email:</th>
                    <td><a href="mailto:skellert22@gmail.com">skellert22@gmail.com</a></td>
                </tr>


            </tbody>
        </table>
    </div>
</div>

<hr/>


</div><!--/.container -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script src="http://mbostock.github.com/d3/d3.v2.js"></script>
<script>

$(document).ready(function(){

  $.getJSON("static/probs.json", function(json){
      $.get
        $('#sel1').on('change', function(){
        selected1 = $(this).find("option:selected").val();
          d3.select("th#team1").text(selected1);
          d3.text("static/adjustedStats_2016_2017.csv", function(data){
              var parsed_data = d3.csv.parseRows(data);
              var stat_names = parsed_data[0].slice(1);
              var stats_1 = parsed_data.filter(function(d){
                  return d[0] == selected1;
              });
              stats_1 = stats_1[0].slice(1);
              for(var i=0; i<stat_names.length; i++){
                  d3.select("td#" + stat_names[i] + "1").text(stats_1[i]);
              };
            });
          if(selected2 !== "" & selected1 !== selected2){

            $("p.output").text(selected1 +" has a "+Math.round(json[selected1][selected2]*100)+
                "% chance of beating "+ selected2);
            }
        });

        $('#sel2').on('change', function(){
          selected2 = $(this).find("option:selected").val();
          d3.select("th#team2").text(selected2);
          d3.text("static/adjustedStats_2016_2017.csv", function(data){
              var parsed_data = d3.csv.parseRows(data);
              var stat_names = parsed_data[0].slice(1);
              var stats_1 = parsed_data.filter(function(d){
                  return d[0] == selected2;
              });
              stats_1 = stats_1[0].slice(1);
              for(var i=0; i<stat_names.length; i++){
                  d3.select("td#" + stat_names[i] + "2").text(stats_1[i]);
              };
            });
          if(selected1 !== "" & selected1 !== selected2){
            $("p.output").text(selected1 +" has a "+Math.round(json[selected1][selected2]*100)+
                "% chance of beating "+ selected2);
            }
        });



  });

});
(function($){
	$(document).ready(function(){
		$('ul.dropdown-menu [data-toggle=dropdown]').on('click', function(event) {
			event.preventDefault();
			event.stopPropagation();
			$(this).parent().siblings().removeClass('open');
			$(this).parent().toggleClass('open');
		});
	});
})(jQuery);
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63567020-2', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>
